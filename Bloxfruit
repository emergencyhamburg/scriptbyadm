-- Blox Fruits Script Complet par @mdjoubia
-- Interface avancée, AutoFarm, Shop, TP, Clicker

local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()
local Window = Library.CreateLib("Blox Fruits V2 | Script Complet", "Ocean")

local FarmingTab = Window:NewTab("Auto Farm")
local FarmingSection = FarmingTab:NewSection("Main")

local ClickTab = Window:NewTab("Clicker")
local ClickSection = ClickTab:NewSection("Auto Click")

local ShopTab = Window:NewTab("Shop")
local ShopSection = ShopTab:NewSection("Acheter")

local TPSection = Window:NewTab("Téléportation"):NewSection("Zones")

local player = game.Players.LocalPlayer
local hum = player.Character:WaitForChild("HumanoidRootPart")
local autofarm = false
local autoclick = false
local weapon = nil

-- Trouver arme
function GetWeapon()
	for _,v in pairs(player.Backpack:GetChildren()) do
		if v:IsA("Tool") then
			return v
		end
	end
	return nil
end

-- Mob intelligent
function GetNearestMob()
	local level = player.Data.Level.Value
	for _,v in pairs(game:GetService("Workspace").Enemies:GetChildren()) do
		if v:FindFirstChild("Humanoid") and v:FindFirstChild("HumanoidRootPart") and v.Humanoid.Health > 0 then
			if v.Name:match("Bandit") and level < 10 then
				return v
			elseif v.Name:match("Monkey") and level >= 10 and level < 30 then
				return v
			elseif v.Name:match("Pirate") and level >= 30 and level < 60 then
				return v
			end
		end
	end
	return nil
end

-- Attaque
function Attack()
	if weapon == nil then weapon = GetWeapon() end
	if weapon and player.Character:FindFirstChild(weapon.Name) == nil then
		weapon.Parent = player.Character
	end
	if weapon then
		local args = {
			[1] = "Combat",
			[2] = "Click"
		}
		game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(args))
	end
end

-- Auto Farm
spawn(function()
	while task.wait(0.1) do
		if autofarm then
			local mob = GetNearestMob()
			if mob then
				pcall(function()
					hum.CFrame = mob.HumanoidRootPart.CFrame * CFrame.new(0,5,0)
					Attack()
				end)
			end
		end
	end
end)

-- Auto Click
spawn(function()
	while task.wait(0.05) do
		if autoclick then
			Attack()
		end
	end
end)

-- Interface : Boutons
FarmingSection:NewToggle("Auto Farm", "Farm auto selon ton niveau", function(state)
	autofarm = state
end)

ClickSection:NewToggle("Auto Click rapide", "Clique très rapidement", function(state)
	autoclick = state
end)

ShopSection:NewButton("Acheter Katana", "Achète une épée au shop", function()
	game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("BuyKatana")
end)

ShopSection:NewButton("Acheter Accessoire Noir", "Achète l'accessoire noir", function()
	game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("BuyBlackCape")
end)

ShopSection:NewButton("Acheter Fruit Random", "Obtient un fruit aléatoire", function()
	game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("Cousin", "Buy")
end)

-- Téléportations
TPSection:NewButton("Spawn", "TP au spawn", function()
	hum.CFrame = CFrame.new(1048, 16, 1426)
end)

TPSection:NewButton("Jungle", "TP à la jungle", function()
	hum.CFrame = CFrame.new(-1249, 11, 342)
end)

TPSection:NewButton("Zone Pirates", "TP pirates LVL 30+", function()
	hum.CFrame = CFrame.new(-1115, 4, 3937)
end)
